{% extends "base.html" %} {% block title %}Your Cart - ShopNow{% endblock %} {%
block content %}
<h2>Your Shopping Cart</h2>
<table class="cart-table">
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Total</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for item in cart_items %}
    <tr>
      <td>{{ item.ProductName }}</td>
      <td>
        <form action="{{ url_for('update_cart') }}" method="POST">
          <input type="hidden" name="product_id" value="{{ item.ProductID }}" />
          <input
            type="number"
            name="quantity"
            value="{{ item.Quantity }}"
            min="1"
            style="width: 60px"
          />
          <button type="submit" class="btn-update">Update</button>
        </form>
      </td>
      <td>${{ "%.2f"|format(item.Price) }}</td>
      <td>${{ "%.2f"|format(item.TotalPrice) }}</td>
      <td>
        <form action="{{ url_for('remove_from_cart') }}" method="POST">
          <input type="hidden" name="product_id" value="{{ item.ProductID }}" />
          <button type="submit" class="btn-remove">Remove</button>
        </form>
      </td>
    </tr>
    {% endfor %}
    <tr class="total-row">
      <td colspan="4"><strong>Grand Total:</strong></td>
      <td><strong>${{ "%.2f"|format(total) }}</strong></td>
    </tr>
  </tbody>
</table>
<a href="/checkout" class="btn-checkout">Proceed to Checkout</a>
{% endblock %}
